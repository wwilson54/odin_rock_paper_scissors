<!DOCTYPE html>
<html>
    <head>
        <script>
            const ROCK = 0;
            const PAPER = 1;
            const SCISSORS = 2;
            function computerPlay () {
                return Math.floor(Math.random() * 3);
            }

            function selectionToText(selection){
                let selectionText;
                switch (selection) {
                    case 0:
                        selectionText = "Rock"
                        break;
                    case 1:
                        selectionText = "Paper"
                        break;
                    case 2:
                        selectionText = "Scissors"
                        break;
                    default:
                        selectionText = "Error"
                }
                return selectionText;
            }

            function playerPlay () {
                let playerInput = prompt("Rock, Paper, or Scissors?");
                let playerInputUpper = playerInput.toUpperCase();
                let playerSelection;
                switch (playerInputUpper) {
                    case "ROCK": 
                        playerSelection = 0;
                        break;
                    case "PAPER":
                        playerSelection = 1;
                        break;
                    case "SCISSORS":
                        playerSelection = 2;
                        break;
                    default:
                        playerSelection = null;
                        alert("Invalid Selection")
                        playerPlay()
                }
                return playerSelection;
            }


            function playRound () {
                let computerSelection = computerPlay();
                let playerSelection = playerPlay();
                console.log("Computer Played: " + selectionToText(computerSelection));
                console.log("Player Played: " + selectionToText(playerSelection));
                if (computerSelection == ROCK) {
                    if (playerSelection == PAPER) {
                        return 1;
                    }
                    else if (playerSelection == SCISSORS) {
                        return -1;
                    }
                    else {
                        return 0;
                    }
                }
                else if (computerSelection == PAPER) {
                    if (playerSelection == SCISSORS) {
                        return 1;
                    }
                    else if (playerSelection == ROCK) {
                        return -1;
                    }
                    else {
                        return 0;
                    }                   
                }
                else {
                    if (playerSelection == ROCK) {
                        return 1;
                    }
                    else if (playerSelection == PAPER) {
                        return -1;
                    }
                    else {
                        return 0;
                    }                   
                }
            }

            function gameResult (score) {
                if (score == 0) {
                    console.log("The game was a Draw!")
                }
                else if (score > 0) {
                    console.log("You won!")
                }
                else {
                    console.log("Sorry, you lose!")
                }
            }

            function game () {
                let gameCount = 0;
                let finalScore = 0;
                while (gameCount < 5) {
                    let result = playRound();
                    gameResult(result);
                    gameCount++;
                    finalScore += result;
                }
                console.log("The final results are...");
                gameResult(finalScore);
                return;
            }
            game();

        </script>
    </head>
    <body>

    </body>
</html>